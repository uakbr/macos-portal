{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\usa\\\\Downloads\\\\macos-portfolio-main\\\\src\\\\components\\\\apps\\\\Terminal.js\";\nimport React, { Component } from \"react\";\nimport terminal from \"../../configs/terminal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst emojis = [\"\\\\(o_o)/\", \"(˚Δ˚)b\", \"(^-^*)\", \"(╯‵□′)╯\", \"\\\\(°ˊДˋ°)/\", \"╰(‵□′)╯\"];\n\nconst getEmoji = () => {\n  return emojis[Math.floor(Math.random() * emojis.length)];\n};\n\nconst characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789富强民主文明和谐自由平等公正法治爱国敬业诚信友善\"; // rain animation is adopted from: https://codepen.io/P3R0/pen/MwgoKv\n\nclass HowDare extends Component {\n  constructor(props) {\n    super(props);\n    this.font_size = 12;\n    this.emoji = getEmoji();\n    this.intervalId = null;\n  }\n\n  componentDidMount() {\n    const $container = document.querySelector(\"#how-dare-container\");\n    this.$canvas = document.querySelector(\"#how-dare\");\n    this.$canvas.height = $container.offsetHeight;\n    this.$canvas.width = $container.offsetWidth;\n    this.ctx = this.$canvas.getContext(\"2d\");\n    const columns = this.$canvas.width / this.font_size;\n    this.drops = []; // x: x coordinate, 1: y-coordinate\n\n    for (let x = 0; x < columns; x++) this.drops[x] = 1;\n\n    this.intervalId = setInterval(this.rain.bind(this), 33);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId);\n  }\n\n  rain() {\n    this.ctx.fillStyle = \"rgba(0, 0, 0, 0.05)\";\n    this.ctx.fillRect(0, 0, this.$canvas.width, this.$canvas.height);\n    this.ctx.fillStyle = \"#2e9244\";\n    this.ctx.font = `${this.font_size}px arial`;\n\n    for (let i = 0; i < this.drops.length; i++) {\n      const text = characters[Math.floor(Math.random() * characters.length)];\n      this.ctx.fillText(text, i * this.font_size, this.drops[i] * this.font_size); // sends the drop back to the top randomly after it has crossed the screen\n      // adding randomness to the reset to make the drops scattered on the Y axis\n\n      if (this.drops[i] * this.font_size > this.$canvas.height && Math.random() > 0.975) this.drops[i] = 0; // increments Y coordinate\n\n      this.drops[i]++;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"how-dare-container\",\n      className: \"fixed w-full h-full bg-black text-white\",\n      onClick: () => this.props.setRMRF(false),\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"how-dare\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-avenir absolute text-center h-28 mx-auto -mt-20 bottom-0 left-0 right-0 top-1/2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-4xl\",\n          children: this.emoji\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl mt-4\",\n          children: \"HOW DARE YOU!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: \"Click to go back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default class Terminal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.reset = () => {\n      const $terminal = document.querySelector(\"#terminal-content\");\n      $terminal.innerHTML = \"\";\n    };\n\n    this.getCurDirName = () => {\n      if (this.curDirPath.length === 0) return \"~\";else return this.curDirPath[this.curDirPath.length - 1];\n    };\n\n    this.getCurChildren = () => {\n      let children = terminal;\n\n      for (let name of this.curDirPath) {\n        children = children.find(item => {\n          return item.title === name & item.type === \"folder\";\n        }).children;\n      }\n\n      return children;\n    };\n\n    this.cd = args => {\n      if (args === undefined || args === \"~\") {\n        // move to root\n        this.curDirPath = [];\n        this.curChildren = terminal;\n      } else if (args === \".\") {\n        // stay in the current folder\n        return;\n      } else if (args === \"..\") {\n        // move to parent folder\n        if (this.curDirPath.length === 0) return;\n        this.curDirPath.pop();\n        this.curChildren = this.getCurChildren();\n      } else {\n        // move to certain child folder\n        const target = this.curChildren.find(item => {\n          return item.title === args & item.type === \"folder\";\n        });\n\n        if (target === undefined) {\n          this.generateResultRow(this.curInputTimes, /*#__PURE__*/_jsxDEV(\"span\", {\n            children: `cd: no such file or directory: ${args}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 11\n          }, this));\n        } else {\n          this.curChildren = target.children;\n          this.curDirPath.push(target.title);\n        }\n      }\n    };\n\n    this.ls = () => {\n      let result = [];\n\n      for (let item of this.curChildren) {\n        result.push( /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `${item.type === \"file\" ? \"text-white\" : \"text-purple-300\"}`,\n          children: item.title\n        }, `terminal-result-ls-${this.curInputTimes}-${item.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 9\n        }, this));\n      }\n\n      this.generateResultRow(this.curInputTimes, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-4 w-full\",\n        children: result\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 7\n      }, this));\n    };\n\n    this.cat = args => {\n      const file = this.curChildren.find(item => {\n        return item.title === args & item.type === \"file\";\n      });\n\n      if (file === undefined) {\n        this.generateResultRow(this.curInputTimes, /*#__PURE__*/_jsxDEV(\"span\", {\n          children: `cat: ${args}: No such file or directory`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 9\n        }, this));\n      } else {\n        this.generateResultRow(this.curInputTimes, /*#__PURE__*/_jsxDEV(\"span\", {\n          children: file.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 50\n        }, this));\n      }\n    };\n\n    this.clear = () => {\n      this.curInputTimes += 1;\n      this.reset();\n    };\n\n    this.help = () => {\n      const help = /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-disc ml-6 pb-1.5\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: [\"cat \", \"<file>\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 11\n          }, this), \" - See the content of \", \"<file>\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: [\"cd \", \"<dir>\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 11\n          }, this), \" - Move into\", \" <dir>\", \", \\\"cd ..\\\" to move to the parent directory, \\\"cd\\\" or \\\"cd ~\\\" to return to root\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: \"ls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 11\n          }, this), \" - See files and directories in the current directory\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: \"clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 11\n          }, this), \" - Clear the screen\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: \"help\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 11\n          }, this), \" - Display this help menu\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: \"rm -rf /\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 11\n          }, this), \" - :)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"press \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: \"up arrow / down arrow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this), \" - Select history commands\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"press \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-400\",\n            children: \"tab\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 17\n          }, this), \" - Auto complete\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 7\n      }, this);\n\n      this.generateResultRow(this.curInputTimes, help);\n    };\n\n    this.autoComplete = text => {\n      if (text === \"\") return text;\n      const input = text.split(\" \");\n      const cmd = input[0];\n      const args = input[1];\n      let result = text;\n\n      if (args === undefined) {\n        const guess = Object.keys(this.commands).find(item => {\n          return item.substring(0, cmd.length) === cmd;\n        });\n        if (guess !== undefined) result = guess;\n      } else if (cmd === \"cd\" || cmd === \"cat\") {\n        const type = cmd === \"cd\" ? \"folder\" : \"file\";\n        const guess = this.curChildren.find(item => {\n          return item.type === type && item.title.substring(0, args.length) === args;\n        });\n        if (guess !== undefined) result = cmd + \" \" + guess.title;\n      }\n\n      return result;\n    };\n\n    this.keyPress = e => {\n      const keyCode = e.key;\n      const $input = document.querySelector(`#terminal-input-${this.curInputTimes}`);\n      const input_text = $input.value.trim();\n      const input = input_text.split(\" \");\n\n      if (keyCode === \"Enter\") {\n        // ----------- run command -----------\n        this.history.push(input_text);\n        const cmd = input[0];\n        const args = input[1]; // we can't edit the past input\n\n        $input.setAttribute(\"readonly\", true);\n        if (input_text.substr(0, 6) === \"rm -rf\") this.setState({\n          rmrf: true\n        });else if (cmd && Object.keys(this.commands).includes(cmd)) {\n          this.commands[cmd](args);\n        } else {\n          this.generateResultRow(this.curInputTimes, /*#__PURE__*/_jsxDEV(\"span\", {\n            children: `zsh: command not found: ${cmd}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 11\n          }, this));\n        } // point to the last history command\n\n        this.curHistory = this.history.length; // generate new input row\n\n        this.curInputTimes += 1;\n        this.generateInputRow(this.curInputTimes);\n      } else if (keyCode === \"ArrowUp\") {\n        // ----------- previous history command -----------\n        if (this.history.length > 0) {\n          if (this.curHistory > 0) this.curHistory--;\n          const historyCommand = this.history[this.curHistory];\n          $input.value = historyCommand;\n        }\n      } else if (keyCode === \"ArrowDown\") {\n        // ----------- next history command -----------\n        if (this.history.length > 0) {\n          if (this.curHistory < this.history.length) this.curHistory++;\n          if (this.curHistory === this.history.length) $input.value = \"\";else {\n            const historyCommand = this.history[this.curHistory];\n            $input.value = historyCommand;\n          }\n        }\n      } else if (keyCode === \"Tab\") {\n        // ----------- auto complete -----------\n        $input.value = this.autoComplete(input_text); // prevent tab outside the terminal\n\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n    };\n\n    this.focusOnInput = id => {\n      document.querySelector(`#terminal-input-${id}`).focus();\n    };\n\n    this.generateInputRow = id => {\n      const newRow = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-6 flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-max flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-yellow-200\",\n            children: [\"usa@macbook-pro\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-300\",\n              children: this.getCurDirName()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-1.5 text-red-400\",\n            children: \">\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: `terminal-input-${id}`,\n          className: \"flex-1 w-full px-1 text-white outline-none bg-transparent\",\n          onKeyDown: this.keyPress,\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 9\n        }, this)]\n      }, `terminal-input-row-${id}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 7\n      }, this);\n\n      let content = this.state.content;\n      content.push(newRow);\n      this.setState({\n        content\n      });\n    };\n\n    this.generateResultRow = (id, result) => {\n      const newRow = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-max leading-5 flex\",\n        children: result\n      }, `terminal-result-row-${id}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 7\n      }, this);\n\n      let content = this.state.content;\n      content.push(newRow);\n      this.setState({\n        content\n      });\n    };\n\n    this.state = {\n      content: [],\n      rmrf: false\n    };\n    this.history = [];\n    this.curHistory = 0;\n    this.curInputTimes = 0;\n    this.curDirPath = [];\n    this.curChildren = terminal;\n    this.commands = {\n      cd: this.cd,\n      ls: this.ls,\n      cat: this.cat,\n      clear: this.clear,\n      help: this.help\n    };\n  }\n\n  componentDidMount() {\n    this.reset();\n    this.generateInputRow(this.curInputTimes);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"terminal font-terminal relative nightwind-prevent nightwind-prevent-block w-full h-full bg-gray-800 bg-opacity-90 text-white text-sm font-normal overflow-y-scroll\",\n      onClick: () => this.focusOnInput(this.curInputTimes),\n      children: [this.state.rmrf && /*#__PURE__*/_jsxDEV(HowDare, {\n        setRMRF: value => this.setState({\n          rmrf: value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-max pt-2 px-1.5 \",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-green-300\",\n          children: \"\\u30FD(\\u02CB\\u25BD\\u02CA)\\u30CE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), \": Hey, you found the terminal! Type `help` to get started.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"terminal-content\",\n        className: \"mt-2 px-1.5 pb-2\",\n        children: this.state.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/usa/Downloads/macos-portfolio-main/src/components/apps/Terminal.js"],"names":["React","Component","terminal","emojis","getEmoji","Math","floor","random","length","characters","HowDare","constructor","props","font_size","emoji","intervalId","componentDidMount","$container","document","querySelector","$canvas","height","offsetHeight","width","offsetWidth","ctx","getContext","columns","drops","x","setInterval","rain","bind","componentWillUnmount","clearInterval","fillStyle","fillRect","font","i","text","fillText","render","setRMRF","Terminal","reset","$terminal","innerHTML","getCurDirName","curDirPath","getCurChildren","children","name","find","item","title","type","cd","args","undefined","curChildren","pop","target","generateResultRow","curInputTimes","push","ls","result","id","cat","file","content","clear","help","autoComplete","input","split","cmd","guess","Object","keys","commands","substring","keyPress","e","keyCode","key","$input","input_text","value","trim","history","setAttribute","substr","setState","rmrf","includes","curHistory","generateInputRow","historyCommand","preventDefault","returnValue","focusOnInput","focus","newRow","state"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport terminal from \"../../configs/terminal\";\n\nconst emojis = [\n  \"\\\\(o_o)/\",\n  \"(˚Δ˚)b\",\n  \"(^-^*)\",\n  \"(╯‵□′)╯\",\n  \"\\\\(°ˊДˋ°)/\",\n  \"╰(‵□′)╯\"\n];\n\nconst getEmoji = () => {\n  return emojis[Math.floor(Math.random() * emojis.length)];\n};\n\nconst characters =\n  \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789富强民主文明和谐自由平等公正法治爱国敬业诚信友善\";\n\n// rain animation is adopted from: https://codepen.io/P3R0/pen/MwgoKv\nclass HowDare extends Component {\n  constructor(props) {\n    super(props);\n    this.font_size = 12;\n    this.emoji = getEmoji();\n    this.intervalId = null;\n  }\n\n  componentDidMount() {\n    const $container = document.querySelector(\"#how-dare-container\");\n    this.$canvas = document.querySelector(\"#how-dare\");\n    this.$canvas.height = $container.offsetHeight;\n    this.$canvas.width = $container.offsetWidth;\n    this.ctx = this.$canvas.getContext(\"2d\");\n\n    const columns = this.$canvas.width / this.font_size;\n    this.drops = [];\n    // x: x coordinate, 1: y-coordinate\n    for (let x = 0; x < columns; x++) this.drops[x] = 1;\n\n    this.intervalId = setInterval(this.rain.bind(this), 33);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId);\n  }\n\n  rain() {\n    this.ctx.fillStyle = \"rgba(0, 0, 0, 0.05)\";\n    this.ctx.fillRect(0, 0, this.$canvas.width, this.$canvas.height);\n\n    this.ctx.fillStyle = \"#2e9244\";\n    this.ctx.font = `${this.font_size}px arial`;\n\n    for (let i = 0; i < this.drops.length; i++) {\n      const text = characters[Math.floor(Math.random() * characters.length)];\n\n      this.ctx.fillText(\n        text,\n        i * this.font_size,\n        this.drops[i] * this.font_size\n      );\n\n      // sends the drop back to the top randomly after it has crossed the screen\n      // adding randomness to the reset to make the drops scattered on the Y axis\n      if (\n        this.drops[i] * this.font_size > this.$canvas.height &&\n        Math.random() > 0.975\n      )\n        this.drops[i] = 0;\n\n      // increments Y coordinate\n      this.drops[i]++;\n    }\n  }\n\n  render() {\n    return (\n      <div\n        id=\"how-dare-container\"\n        className=\"fixed w-full h-full bg-black text-white\"\n        onClick={() => this.props.setRMRF(false)}\n      >\n        <canvas id=\"how-dare\"></canvas>\n        <div className=\"font-avenir absolute text-center h-28 mx-auto -mt-20 bottom-0 left-0 right-0 top-1/2\">\n          <div className=\"text-4xl\">{this.emoji}</div>\n          <div className=\"text-3xl mt-4\">HOW DARE YOU!</div>\n          <div className=\"mt-4\">Click to go back</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default class Terminal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: [],\n      rmrf: false\n    };\n    this.history = [];\n    this.curHistory = 0;\n    this.curInputTimes = 0;\n    this.curDirPath = [];\n    this.curChildren = terminal;\n    this.commands = {\n      cd: this.cd,\n      ls: this.ls,\n      cat: this.cat,\n      clear: this.clear,\n      help: this.help\n    };\n  }\n\n  componentDidMount() {\n    this.reset();\n    this.generateInputRow(this.curInputTimes);\n  }\n\n  reset = () => {\n    const $terminal = document.querySelector(\"#terminal-content\");\n    $terminal.innerHTML = \"\";\n  };\n\n  getCurDirName = () => {\n    if (this.curDirPath.length === 0) return \"~\";\n    else return this.curDirPath[this.curDirPath.length - 1];\n  };\n\n  getCurChildren = () => {\n    let children = terminal;\n    for (let name of this.curDirPath) {\n      children = children.find((item) => {\n        return (item.title === name) & (item.type === \"folder\");\n      }).children;\n    }\n    return children;\n  };\n\n  // move into a specified folder\n  cd = (args) => {\n    if (args === undefined || args === \"~\") {\n      // move to root\n      this.curDirPath = [];\n      this.curChildren = terminal;\n    } else if (args === \".\") {\n      // stay in the current folder\n      return;\n    } else if (args === \"..\") {\n      // move to parent folder\n      if (this.curDirPath.length === 0) return;\n      this.curDirPath.pop();\n      this.curChildren = this.getCurChildren();\n    } else {\n      // move to certain child folder\n      const target = this.curChildren.find((item) => {\n        return (item.title === args) & (item.type === \"folder\");\n      });\n      if (target === undefined) {\n        this.generateResultRow(\n          this.curInputTimes,\n          <span>{`cd: no such file or directory: ${args}`}</span>\n        );\n      } else {\n        this.curChildren = target.children;\n        this.curDirPath.push(target.title);\n      }\n    }\n  };\n\n  // display content of a specified folder\n  ls = () => {\n    let result = [];\n    for (let item of this.curChildren) {\n      result.push(\n        <span\n          key={`terminal-result-ls-${this.curInputTimes}-${item.id}`}\n          className={`${\n            item.type === \"file\" ? \"text-white\" : \"text-purple-300\"\n          }`}\n        >\n          {item.title}\n        </span>\n      );\n    }\n    this.generateResultRow(\n      this.curInputTimes,\n      <div className=\"grid grid-cols-4 w-full\">{result}</div>\n    );\n  };\n\n  // display content of a specified file\n  cat = (args) => {\n    const file = this.curChildren.find((item) => {\n      return (item.title === args) & (item.type === \"file\");\n    });\n\n    if (file === undefined) {\n      this.generateResultRow(\n        this.curInputTimes,\n        <span>{`cat: ${args}: No such file or directory`}</span>\n      );\n    } else {\n      this.generateResultRow(this.curInputTimes, <span>{file.content}</span>);\n    }\n  };\n\n  // clear terminal\n  clear = () => {\n    this.curInputTimes += 1;\n    this.reset();\n  };\n\n  help = () => {\n    const help = (\n      <ul className=\"list-disc ml-6 pb-1.5\">\n        <li>\n          <span className=\"text-red-400\">cat {\"<file>\"}</span> - See the content\n          of {\"<file>\"}\n        </li>\n        <li>\n          <span className=\"text-red-400\">cd {\"<dir>\"}</span> - Move into\n          {\" <dir>\"}, \"cd ..\" to move to the parent directory, \"cd\" or \"cd ~\" to\n          return to root\n        </li>\n        <li>\n          <span className=\"text-red-400\">ls</span> - See files and directories\n          in the current directory\n        </li>\n        <li>\n          <span className=\"text-red-400\">clear</span> - Clear the screen\n        </li>\n        <li>\n          <span className=\"text-red-400\">help</span> - Display this help menu\n        </li>\n        <li>\n          <span className=\"text-red-400\">rm -rf /</span> - :)\n        </li>\n        <li>\n          press <span className=\"text-red-400\">up arrow / down arrow</span> -\n          Select history commands\n        </li>\n        <li>\n          press <span className=\"text-red-400\">tab</span> - Auto complete\n        </li>\n      </ul>\n    );\n    this.generateResultRow(this.curInputTimes, help);\n  };\n\n  autoComplete = (text) => {\n    if (text === \"\") return text;\n\n    const input = text.split(\" \");\n    const cmd = input[0];\n    const args = input[1];\n\n    let result = text;\n\n    if (args === undefined) {\n      const guess = Object.keys(this.commands).find((item) => {\n        return item.substring(0, cmd.length) === cmd;\n      });\n      if (guess !== undefined) result = guess;\n    } else if (cmd === \"cd\" || cmd === \"cat\") {\n      const type = cmd === \"cd\" ? \"folder\" : \"file\";\n      const guess = this.curChildren.find((item) => {\n        return (\n          item.type === type && item.title.substring(0, args.length) === args\n        );\n      });\n      if (guess !== undefined) result = cmd + \" \" + guess.title;\n    }\n    return result;\n  };\n\n  keyPress = (e) => {\n    const keyCode = e.key;\n    const $input = document.querySelector(\n      `#terminal-input-${this.curInputTimes}`\n    );\n    const input_text = $input.value.trim();\n    const input = input_text.split(\" \");\n\n    if (keyCode === \"Enter\") {\n      // ----------- run command -----------\n      this.history.push(input_text);\n\n      const cmd = input[0];\n      const args = input[1];\n\n      // we can't edit the past input\n      $input.setAttribute(\"readonly\", true);\n\n      if (input_text.substr(0, 6) === \"rm -rf\") this.setState({ rmrf: true });\n      else if (cmd && Object.keys(this.commands).includes(cmd)) {\n        this.commands[cmd](args);\n      } else {\n        this.generateResultRow(\n          this.curInputTimes,\n          <span>{`zsh: command not found: ${cmd}`}</span>\n        );\n      }\n\n      // point to the last history command\n      this.curHistory = this.history.length;\n\n      // generate new input row\n      this.curInputTimes += 1;\n      this.generateInputRow(this.curInputTimes);\n    } else if (keyCode === \"ArrowUp\") {\n      // ----------- previous history command -----------\n      if (this.history.length > 0) {\n        if (this.curHistory > 0) this.curHistory--;\n        const historyCommand = this.history[this.curHistory];\n        $input.value = historyCommand;\n      }\n    } else if (keyCode === \"ArrowDown\") {\n      // ----------- next history command -----------\n      if (this.history.length > 0) {\n        if (this.curHistory < this.history.length) this.curHistory++;\n        if (this.curHistory === this.history.length) $input.value = \"\";\n        else {\n          const historyCommand = this.history[this.curHistory];\n          $input.value = historyCommand;\n        }\n      }\n    } else if (keyCode === \"Tab\") {\n      // ----------- auto complete -----------\n      $input.value = this.autoComplete(input_text);\n      // prevent tab outside the terminal\n      if (e.preventDefault) e.preventDefault();\n      else e.returnValue = false;\n    }\n  };\n\n  focusOnInput = (id) => {\n    document.querySelector(`#terminal-input-${id}`).focus();\n  };\n\n  generateInputRow = (id) => {\n    const newRow = (\n      <div key={`terminal-input-row-${id}`} className=\"w-full h-6 flex\">\n        <div className=\"w-max flex items-center\">\n          <span className=\"text-yellow-200\">\n            usa@macbook-pro{\" \"}\n            <span className=\"text-green-300\">{this.getCurDirName()}</span>\n          </span>\n          <span className=\"ml-1.5 text-red-400\">{\">\"}</span>\n        </div>\n        <input\n          id={`terminal-input-${id}`}\n          className=\"flex-1 w-full px-1 text-white outline-none bg-transparent\"\n          onKeyDown={this.keyPress}\n          autoFocus={true}\n        />\n      </div>\n    );\n    let content = this.state.content;\n    content.push(newRow);\n    this.setState({ content });\n  };\n\n  generateResultRow = (id, result) => {\n    const newRow = (\n      <div\n        key={`terminal-result-row-${id}`}\n        className=\"w-full h-max leading-5 flex\"\n      >\n        {result}\n      </div>\n    );\n    let content = this.state.content;\n    content.push(newRow);\n    this.setState({ content });\n  };\n\n  render() {\n    return (\n      <div\n        className=\"terminal font-terminal relative nightwind-prevent nightwind-prevent-block w-full h-full bg-gray-800 bg-opacity-90 text-white text-sm font-normal overflow-y-scroll\"\n        onClick={() => this.focusOnInput(this.curInputTimes)}\n      >\n        {this.state.rmrf && (\n          <HowDare setRMRF={(value) => this.setState({ rmrf: value })} />\n        )}\n        <div className=\"w-full h-max pt-2 px-1.5 \">\n          <span className=\"text-green-300\">ヽ(ˋ▽ˊ)ノ</span>: Hey, you found the\n          terminal! Type `help` to get started.\n        </div>\n        <div id=\"terminal-content\" className=\"mt-2 px-1.5 pb-2\">\n          {this.state.content}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}