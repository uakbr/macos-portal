{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\usa\\\\Downloads\\\\macos-portfolio-main\\\\src\\\\components\\\\Spotlight.js\";\nimport React, { Component, createRef } from \"react\";\nimport format from \"date-fns/format\";\nimport { BiSearch } from \"react-icons/bi\";\nimport apps from \"../configs/apps\";\nimport launchpad from \"../configs/launchpad\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst allApps = {\n  app: apps,\n  portfolio: launchpad\n};\n\nconst getRandom = (min, max) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nconst getRandomDate = () => {\n  const timeStamp = new Date().getTime();\n  const randomStamp = getRandom(0, timeStamp);\n  const date = format(randomStamp, \"MM/dd/yyyy\");\n  return date;\n};\n\nexport default class Spotlight extends Component {\n  constructor(props) {\n    super(props);\n\n    this.search = type => {\n      if (this.state.searchText === \"\") return [];\n      const text = this.state.searchText.toLowerCase();\n      const list = allApps[type].filter(item => {\n        return item.title.toLowerCase().includes(text) || item.id.toLowerCase().includes(text);\n      });\n      return list;\n    };\n\n    this.handleClick = id => {\n      const curSelectIndex = this.state.appIdList.findIndex(item => {\n        return item === id;\n      });\n      this.updateHighlight(this.curSelectIndex, curSelectIndex);\n      this.curSelectIndex = curSelectIndex;\n      this.updateCurDetails();\n    };\n\n    this.handleDoubleClick = id => {\n      this.handleClick(id);\n      this.launchCurApp();\n    };\n\n    this.launchCurApp = () => {\n      if (this.state.curDetails.type === \"app\" && !this.state.curDetails.link) {\n        const id = this.state.curDetails.id;\n        if (id === \"launchpad\") this.props.toggleLaunchpad(true);else this.props.openApp(id);\n        this.props.toggleSpotlight();\n      } else {\n        window.open(this.state.curDetails.link);\n        this.props.toggleSpotlight();\n      }\n    };\n\n    this.getTypeAppList = (type, startIndex) => {\n      const result = this.search(type);\n      let appList = [];\n      let appIdList = [];\n\n      for (let app of result) {\n        const curIndex = startIndex + appIdList.length;\n        const bg = curIndex === 0 ? \"bg-blue-500\" : \"bg-transparent\";\n        const text = curIndex === 0 ? \"text-white\" : \"text-black\";\n        if (curIndex === 0) this.setCurDetails(app, type);\n        appList.push( /*#__PURE__*/_jsxDEV(\"li\", {\n          id: `spotlight-${app.id}`,\n          className: `pl-4 h-7 w-full pr-1 flex flex-row ${bg} ${text} cursor-default`,\n          \"data-app-type\": type,\n          onClick: () => this.handleClick(app.id),\n          onDoubleClick: () => this.handleDoubleClick(app.id),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-none w-8 flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"w-5 mx-auto\",\n              src: app.img,\n              alt: app.title,\n              title: app.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-grow flex items-center pl-3 overflow-hidden whitespace-nowrap\",\n            children: app.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }, this)]\n        }, `spotlight-${app.id}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this));\n        appIdList.push(app.id);\n      }\n\n      return {\n        appList: appList,\n        appIdList: appIdList\n      };\n    };\n\n    this.updateAppList = () => {\n      const app = this.getTypeAppList(\"app\", 0);\n      const portfolio = this.getTypeAppList(\"portfolio\", app.appIdList.length);\n      const appIdList = [...app.appIdList, ...portfolio.appIdList]; // don't show app details when there is no associating app\n\n      if (appIdList.length === 0) this.setState({\n        curDetails: null\n      });\n\n      const appList = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [app.appList.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pl-6 py-0.5 text-xs leading-none bg-gray-400 bg-opacity-80 flex items-center text-black\",\n            children: \"Applications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"w-full text-xs\",\n            children: app.appList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), portfolio.appList.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pl-6 py-0.5 text-xs leading-none bg-gray-400 bg-opacity-80 flex items-center text-black\",\n            children: \"Portfolio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"w-full text-xs\",\n            children: portfolio.appList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }, this);\n\n      this.setState({\n        appList: appList,\n        appIdList: appIdList\n      });\n    };\n\n    this.setCurDetails = (app, type) => {\n      const curDetails = app;\n      curDetails.type = type;\n      this.setState({\n        curDetails\n      });\n    };\n\n    this.updateCurDetails = () => {\n      const appId = this.state.appIdList[this.curSelectIndex];\n      const elem = document.querySelector(`#spotlight-${appId}`);\n      const id = appId;\n      const type = elem.dataset.appType;\n      const app = allApps[type].find(item => {\n        return item.id === id;\n      });\n      this.setCurDetails(app, type);\n    };\n\n    this.updateHighlight = (prevIndex, curIndex) => {\n      // remove highlight\n      const prevAppId = this.state.appIdList[prevIndex];\n      const prev = document.querySelector(`#spotlight-${prevAppId}`);\n      let classes = prev.className;\n      classes = classes.replace(\"text-white\", \"text-black\");\n      classes = classes.replace(\"bg-blue-500\", \"bg-transparent\");\n      prev.className = classes; // add highlight\n\n      const curAppId = this.state.appIdList[curIndex];\n      const cur = document.querySelector(`#spotlight-${curAppId}`);\n      classes = cur.className;\n      classes = classes.replace(\"text-black\", \"text-white\");\n      classes = classes.replace(\"bg-transparent\", \"bg-blue-500\");\n      cur.className = classes;\n    };\n\n    this.handleKeyPress = e => {\n      const keyCode = e.key;\n      const numApps = this.state.appIdList.length; // ----------- select next app -----------\n\n      if (keyCode === \"ArrowDown\" && this.curSelectIndex < numApps - 1) {\n        this.curSelectIndex++;\n        this.updateHighlight(this.curSelectIndex - 1, this.curSelectIndex);\n        this.updateCurDetails();\n      } // ----------- select previous app -----------\n      else if (keyCode === \"ArrowUp\" && this.curSelectIndex > 0) {\n        this.curSelectIndex--;\n        this.updateHighlight(this.curSelectIndex + 1, this.curSelectIndex);\n        this.updateCurDetails();\n      } // ----------- launch app -----------\n      else if (keyCode === \"Enter\") {\n        if (!this.state.curDetails) return;\n        this.launchCurApp();\n      }\n    };\n\n    this.handleInputChange = e => {\n      // current selected id go back to 0\n      this.curSelectIndex = 0; // don\"t show app details when there is no input\n\n      if (e.target.value === \"\") this.setState({\n        curDetails: null\n      }); // update search text and associating app list\n\n      this.setState({\n        searchText: e.target.value\n      }, () => this.updateAppList());\n    };\n\n    this.focusOnInput = () => {\n      document.querySelector(\"#spotlight-input\").focus();\n    };\n\n    this.state = {\n      searchText: \"\",\n      curDetails: null,\n      appList: null,\n      appIdList: []\n    };\n    this.curSelectIndex = 0;\n    this.spotlightRef = /*#__PURE__*/createRef();\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  handleClickOutside(e) {\n    if (this.spotlightRef && !this.spotlightRef.current.contains(e.target) && !this.props.btnRef.current.contains(e.target)) this.props.toggleSpotlight();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spotlight fixed top-1/4 -mt-16 h-max rounded-md bg-gray-50 bg-opacity-80 blur border border-gray-400 border-opacity-50 shadow-2xl\",\n      style: {\n        zIndex: 99997\n      },\n      onKeyDown: this.handleKeyPress,\n      onClick: this.focusOnInput,\n      ref: this.spotlightRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full grid grid-cols-8 sm:grid-cols-11 h-12 sm:h-14 rounded-md bg-transparent\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-start-1 col-span-1 flex justify-center items-center\",\n          children: /*#__PURE__*/_jsxDEV(BiSearch, {\n            className: \"ml-1 text-gray-600\",\n            size: 28\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"spotlight-input\",\n          className: \"col-start-2 col-span-7 sm:col-span-10 outline-none focus:outline-none bg-transparent px-1 text-black text-xl sm:text-2xl\",\n          placeholder: \"Spotlight Search\",\n          value: this.state.searchText,\n          onChange: e => this.handleInputChange(e),\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), this.state.searchText !== \"\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-transparent flex flex-row border-t border-gray-400 border-opacity-50\",\n        style: {\n          height: \"341px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-none w-32 sm:w-72 border-r border-gray-400 border-opacity-50 overflow-y-scroll\",\n          children: this.state.appList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-grow\",\n          children: this.state.curDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-full w-full flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mx-auto w-4/5 flex-none flex flex-col items-center justify-center h-56 border-b border-gray-400 border-opacity-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"w-32 mx-auto\",\n                src: this.state.curDetails.img,\n                alt: this.state.curDetails.title,\n                title: this.state.curDetails.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 text-xl text-black\",\n                children: this.state.curDetails.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500\",\n                children: `Version: ${getRandom(0, 99)}.${getRandom(0, 999)}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-grow flex flex-row text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-none w-1/2 flex flex-col items-end justify-center text-gray-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Kind\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Created\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Modified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Last opened\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pl-2 flex-grow flex flex-col items-start justify-center text-black\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: this.state.curDetails.type === \"app\" ? \"Application\" : \"Portfolio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: `${getRandom(0, 999)} G`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: getRandomDate()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: getRandomDate()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: getRandomDate()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/usa/Downloads/macos-portfolio-main/src/components/Spotlight.js"],"names":["React","Component","createRef","format","BiSearch","apps","launchpad","allApps","app","portfolio","getRandom","min","max","Math","ceil","floor","random","getRandomDate","timeStamp","Date","getTime","randomStamp","date","Spotlight","constructor","props","search","type","state","searchText","text","toLowerCase","list","filter","item","title","includes","id","handleClick","curSelectIndex","appIdList","findIndex","updateHighlight","updateCurDetails","handleDoubleClick","launchCurApp","curDetails","link","toggleLaunchpad","openApp","toggleSpotlight","window","open","getTypeAppList","startIndex","result","appList","curIndex","length","bg","setCurDetails","push","img","updateAppList","setState","appId","elem","document","querySelector","dataset","appType","find","prevIndex","prevAppId","prev","classes","className","replace","curAppId","cur","handleKeyPress","e","keyCode","key","numApps","handleInputChange","target","value","focusOnInput","focus","spotlightRef","handleClickOutside","bind","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","current","contains","btnRef","render","zIndex","height"],"mappings":"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","sourcesContent":["import React, { Component, createRef } from \"react\";\nimport format from \"date-fns/format\";\nimport { BiSearch } from \"react-icons/bi\";\nimport apps from \"../configs/apps\";\nimport launchpad from \"../configs/launchpad\";\n\nconst allApps = {\n  app: apps,\n  portfolio: launchpad\n};\n\nconst getRandom = (min, max) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nconst getRandomDate = () => {\n  const timeStamp = new Date().getTime();\n  const randomStamp = getRandom(0, timeStamp);\n  const date = format(randomStamp, \"MM/dd/yyyy\");\n  return date;\n};\n\nexport default class Spotlight extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchText: \"\",\n      curDetails: null,\n      appList: null,\n      appIdList: []\n    };\n    this.curSelectIndex = 0;\n    this.spotlightRef = createRef();\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  search = (type) => {\n    if (this.state.searchText === \"\") return [];\n    const text = this.state.searchText.toLowerCase();\n    const list = allApps[type].filter((item) => {\n      return (\n        item.title.toLowerCase().includes(text) ||\n        item.id.toLowerCase().includes(text)\n      );\n    });\n    return list;\n  };\n\n  handleClick = (id) => {\n    const curSelectIndex = this.state.appIdList.findIndex((item) => {\n      return item === id;\n    });\n    this.updateHighlight(this.curSelectIndex, curSelectIndex);\n    this.curSelectIndex = curSelectIndex;\n    this.updateCurDetails();\n  };\n\n  handleDoubleClick = (id) => {\n    this.handleClick(id);\n    this.launchCurApp();\n  };\n\n  handleClickOutside(e) {\n    if (\n      this.spotlightRef &&\n      !this.spotlightRef.current.contains(e.target) &&\n      !this.props.btnRef.current.contains(e.target)\n    )\n      this.props.toggleSpotlight();\n  }\n\n  launchCurApp = () => {\n    if (this.state.curDetails.type === \"app\" && !this.state.curDetails.link) {\n      const id = this.state.curDetails.id;\n      if (id === \"launchpad\") this.props.toggleLaunchpad(true);\n      else this.props.openApp(id);\n      this.props.toggleSpotlight();\n    } else {\n      window.open(this.state.curDetails.link);\n      this.props.toggleSpotlight();\n    }\n  };\n\n  getTypeAppList = (type, startIndex) => {\n    const result = this.search(type);\n    let appList = [];\n    let appIdList = [];\n\n    for (let app of result) {\n      const curIndex = startIndex + appIdList.length;\n      const bg = curIndex === 0 ? \"bg-blue-500\" : \"bg-transparent\";\n      const text = curIndex === 0 ? \"text-white\" : \"text-black\";\n\n      if (curIndex === 0) this.setCurDetails(app, type);\n\n      appList.push(\n        <li\n          id={`spotlight-${app.id}`}\n          key={`spotlight-${app.id}`}\n          className={`pl-4 h-7 w-full pr-1 flex flex-row ${bg} ${text} cursor-default`}\n          data-app-type={type}\n          onClick={() => this.handleClick(app.id)}\n          onDoubleClick={() => this.handleDoubleClick(app.id)}\n        >\n          <div className=\"flex-none w-8 flex items-center\">\n            <img\n              className=\"w-5 mx-auto\"\n              src={app.img}\n              alt={app.title}\n              title={app.title}\n            />\n          </div>\n          <div className=\"flex-grow flex items-center pl-3 overflow-hidden whitespace-nowrap\">\n            {app.title}\n          </div>\n        </li>\n      );\n      appIdList.push(app.id);\n    }\n\n    return {\n      appList: appList,\n      appIdList: appIdList\n    };\n  };\n\n  updateAppList = () => {\n    const app = this.getTypeAppList(\"app\", 0);\n    const portfolio = this.getTypeAppList(\"portfolio\", app.appIdList.length);\n\n    const appIdList = [...app.appIdList, ...portfolio.appIdList];\n    // don't show app details when there is no associating app\n    if (appIdList.length === 0) this.setState({ curDetails: null });\n\n    const appList = (\n      <div>\n        {app.appList.length !== 0 && (\n          <div>\n            <div className=\"pl-6 py-0.5 text-xs leading-none bg-gray-400 bg-opacity-80 flex items-center text-black\">\n              Applications\n            </div>\n            <ul className=\"w-full text-xs\">{app.appList}</ul>\n          </div>\n        )}\n        {portfolio.appList.length !== 0 && (\n          <div>\n            <div className=\"pl-6 py-0.5 text-xs leading-none bg-gray-400 bg-opacity-80 flex items-center text-black\">\n              Portfolio\n            </div>\n            <ul className=\"w-full text-xs\">{portfolio.appList}</ul>\n          </div>\n        )}\n      </div>\n    );\n    this.setState({\n      appList: appList,\n      appIdList: appIdList\n    });\n  };\n\n  setCurDetails = (app, type) => {\n    const curDetails = app;\n    curDetails.type = type;\n    this.setState({ curDetails });\n  };\n\n  updateCurDetails = () => {\n    const appId = this.state.appIdList[this.curSelectIndex];\n    const elem = document.querySelector(`#spotlight-${appId}`);\n    const id = appId;\n    const type = elem.dataset.appType;\n    const app = allApps[type].find((item) => {\n      return item.id === id;\n    });\n    this.setCurDetails(app, type);\n  };\n\n  updateHighlight = (prevIndex, curIndex) => {\n    // remove highlight\n    const prevAppId = this.state.appIdList[prevIndex];\n    const prev = document.querySelector(`#spotlight-${prevAppId}`);\n    let classes = prev.className;\n    classes = classes.replace(\"text-white\", \"text-black\");\n    classes = classes.replace(\"bg-blue-500\", \"bg-transparent\");\n    prev.className = classes;\n\n    // add highlight\n    const curAppId = this.state.appIdList[curIndex];\n    const cur = document.querySelector(`#spotlight-${curAppId}`);\n    classes = cur.className;\n    classes = classes.replace(\"text-black\", \"text-white\");\n    classes = classes.replace(\"bg-transparent\", \"bg-blue-500\");\n    cur.className = classes;\n  };\n\n  handleKeyPress = (e) => {\n    const keyCode = e.key;\n    const numApps = this.state.appIdList.length;\n\n    // ----------- select next app -----------\n    if (keyCode === \"ArrowDown\" && this.curSelectIndex < numApps - 1) {\n      this.curSelectIndex++;\n      this.updateHighlight(this.curSelectIndex - 1, this.curSelectIndex);\n      this.updateCurDetails();\n    }\n    // ----------- select previous app -----------\n    else if (keyCode === \"ArrowUp\" && this.curSelectIndex > 0) {\n      this.curSelectIndex--;\n      this.updateHighlight(this.curSelectIndex + 1, this.curSelectIndex);\n      this.updateCurDetails();\n    }\n    // ----------- launch app -----------\n    else if (keyCode === \"Enter\") {\n      if (!this.state.curDetails) return;\n      this.launchCurApp();\n    }\n  };\n\n  handleInputChange = (e) => {\n    // current selected id go back to 0\n    this.curSelectIndex = 0;\n    // don\"t show app details when there is no input\n    if (e.target.value === \"\") this.setState({ curDetails: null });\n    // update search text and associating app list\n    this.setState(\n      {\n        searchText: e.target.value\n      },\n      () => this.updateAppList()\n    );\n  };\n\n  focusOnInput = () => {\n    document.querySelector(\"#spotlight-input\").focus();\n  };\n\n  render() {\n    return (\n      <div\n        className=\"spotlight fixed top-1/4 -mt-16 h-max rounded-md bg-gray-50 bg-opacity-80 blur border border-gray-400 border-opacity-50 shadow-2xl\"\n        style={{ zIndex: 99997 }}\n        onKeyDown={this.handleKeyPress}\n        onClick={this.focusOnInput}\n        ref={this.spotlightRef}\n      >\n        <div className=\"w-full grid grid-cols-8 sm:grid-cols-11 h-12 sm:h-14 rounded-md bg-transparent\">\n          <div className=\"col-start-1 col-span-1 flex justify-center items-center\">\n            <BiSearch className=\"ml-1 text-gray-600\" size={28} />\n          </div>\n          <input\n            id=\"spotlight-input\"\n            className=\"col-start-2 col-span-7 sm:col-span-10 outline-none focus:outline-none bg-transparent px-1 text-black text-xl sm:text-2xl\"\n            placeholder=\"Spotlight Search\"\n            value={this.state.searchText}\n            onChange={(e) => this.handleInputChange(e)}\n            autoFocus={true}\n          />\n        </div>\n        {this.state.searchText !== \"\" && (\n          <div\n            className=\"bg-transparent flex flex-row border-t border-gray-400 border-opacity-50\"\n            style={{ height: \"341px\" }}\n          >\n            <div className=\"flex-none w-32 sm:w-72 border-r border-gray-400 border-opacity-50 overflow-y-scroll\">\n              {this.state.appList}\n            </div>\n            <div className=\"flex-grow\">\n              {this.state.curDetails && (\n                <div className=\"h-full w-full flex flex-col\">\n                  <div className=\"mx-auto w-4/5 flex-none flex flex-col items-center justify-center h-56 border-b border-gray-400 border-opacity-50\">\n                    <img\n                      className=\"w-32 mx-auto\"\n                      src={this.state.curDetails.img}\n                      alt={this.state.curDetails.title}\n                      title={this.state.curDetails.title}\n                    />\n                    <div className=\"mt-4 text-xl text-black\">\n                      {this.state.curDetails.title}\n                    </div>\n                    <div className=\"text-xs text-gray-500\">\n                      {`Version: ${getRandom(0, 99)}.${getRandom(0, 999)}`}\n                    </div>\n                  </div>\n                  <div className=\"flex-grow flex flex-row text-xs\">\n                    <div className=\"flex-none w-1/2 flex flex-col items-end justify-center text-gray-500\">\n                      <div>Kind</div>\n                      <div>Size</div>\n                      <div>Created</div>\n                      <div>Modified</div>\n                      <div>Last opened</div>\n                    </div>\n                    <div className=\"pl-2 flex-grow flex flex-col items-start justify-center text-black\">\n                      <div>\n                        {this.state.curDetails.type === \"app\"\n                          ? \"Application\"\n                          : \"Portfolio\"}\n                      </div>\n                      <div>{`${getRandom(0, 999)} G`}</div>\n                      <div>{getRandomDate()}</div>\n                      <div>{getRandomDate()}</div>\n                      <div>{getRandomDate()}</div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}