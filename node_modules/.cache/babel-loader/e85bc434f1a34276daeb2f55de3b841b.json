{"ast":null,"code":"import _classCallCheck from\"C:/Users/usa/Downloads/macos-portfolio-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/usa/Downloads/macos-portfolio-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/usa/Downloads/macos-portfolio-main/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/usa/Downloads/macos-portfolio-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/usa/Downloads/macos-portfolio-main/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,createRef,forwardRef}from\"react\";import{connect}from\"react-redux\";import format from\"date-fns/format\";import AppleMenu from\"./AppleMenu\";import WifiMenu from\"./WifiMenu\";import ControlCenterMenu from\"./ControlCenterMenu\";import{isFullScreen}from\"../../utils/screen\";import{setVolume,setBrightness,toggleFullScreen}from\"../../redux/action\";import music from\"../../configs/music\";// ------- import icons -------\nimport{BsBatteryFull}from\"react-icons/bs\";import{BiSearch}from\"react-icons/bi\";import{FaWifi}from\"react-icons/fa\";import{RiSignalWifiLine}from\"react-icons/ri\";import{AiFillApple}from\"react-icons/ai\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TopBarItem=/*#__PURE__*/forwardRef(function(props,ref){var hide=props.hideOnMobile?\"hidden sm:inline-flex\":\"inline-flex\";var hover=props.forceHover?\"bg-white bg-opacity-30\":\"hover:bg-white hover:bg-opacity-30 rounded\";return/*#__PURE__*/_jsx(\"div\",{ref:ref,className:\"\".concat(hide,\" cursor-default flex-row space-x-1 \").concat(hover,\" p-1\"),onClick:props.onClick,children:props.children});});var TopBar=/*#__PURE__*/function(_Component){_inherits(TopBar,_Component);var _super=_createSuper(TopBar);function TopBar(props){var _this;_classCallCheck(this,TopBar);_this=_super.call(this,props);_this.resize=function(){var isFull=isFullScreen();_this.props.toggleFullScreen(isFull);};_this.toggleAudio=function(target){target?_this.audio.play():_this.audio.pause();_this.setState({playing:target});};_this.setVolume=function(value){_this.props.setVolume(value);_this.audio.volume=value/100;};_this.setBrightness=function(value){_this.props.setBrightness(value);};_this.toggleControlCenter=function(){_this.setState({showControlCenter:!_this.state.showControlCenter});};_this.toggleAppleMenu=function(){_this.setState({showAppleMenu:!_this.state.showAppleMenu});};_this.toggleWifiMenu=function(){_this.setState({showWifiMenu:!_this.state.showWifiMenu});};_this.logout=function(){_this.toggleAudio(false);_this.props.setLogin(false);};_this.shut=function(e){_this.toggleAudio(false);_this.props.shutMac(e);};_this.restart=function(e){_this.toggleAudio(false);_this.props.restartMac(e);};_this.sleep=function(e){_this.toggleAudio(false);_this.props.sleepMac(e);};_this.state={date:new Date(),showControlCenter:false,showWifiMenu:false,showAppleMenu:false,playing:false};_this.clickedOutside={apple:false,control:false};_this.intervalId=null;_this.toggleAudio=_this.toggleAudio.bind(_assertThisInitialized(_this));_this.appleBtnRef=/*#__PURE__*/createRef();_this.controlCenterBtnRef=/*#__PURE__*/createRef();_this.wifiBtnRef=/*#__PURE__*/createRef();_this.spotlightBtnRef=/*#__PURE__*/createRef();_this.resize.bind(_assertThisInitialized(_this));return _this;}_createClass(TopBar,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.props.setSpotlightBtnRef(this.spotlightBtnRef);// current date and time\n// store intervalId in the state, so we can clear interval later\nthis.intervalId=setInterval(function(){_this2.setState({date:new Date()});},60*1000);// listen to screen size change\nwindow.addEventListener(\"resize\",this.resize);// load music\nthis.audio=new Audio(music.audio);this.audio.load();// set volume\nthis.audio.volume=this.props.volume/100;// auto replay\nthis.audio.addEventListener(\"ended\",function(){return _this2.audio.play();});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var _this3=this;clearInterval(this.intervalId);window.removeEventListener(\"resize\",this.resize);this.audio.removeEventListener(\"ended\",function(){return _this3.audio.play();});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"nightwind-prevent w-full h-6 px-4 fixed top-0 flex flex-row justify-between items-center text-sm text-white bg-gray-500 bg-opacity-10 blur shadow transition\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center space-x-4\",children:[/*#__PURE__*/_jsx(TopBarItem,{forceHover:this.state.showAppleMenu,onClick:function onClick(){return _this4.showAppleMenu?{}:_this4.toggleAppleMenu();},ref:this.appleBtnRef,children:/*#__PURE__*/_jsx(AiFillApple,{size:18})}),/*#__PURE__*/_jsx(\"span\",{className:\"cursor-default font-semibold\",children:this.props.title})]}),this.state.showAppleMenu&&/*#__PURE__*/_jsx(AppleMenu,{logout:this.logout,shut:this.shut,restart:this.restart,sleep:this.sleep,toggleAppleMenu:this.toggleAppleMenu,btnRef:this.appleBtnRef}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-end items-center space-x-2\",children:[/*#__PURE__*/_jsxs(TopBarItem,{hideOnMobile:true,children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs mt-0.5 mr-1\",children:\"100%\"}),/*#__PURE__*/_jsx(BsBatteryFull,{size:20})]}),/*#__PURE__*/_jsx(TopBarItem,{hideOnMobile:true,onClick:this.toggleWifiMenu,ref:this.wifiBtnRef,children:this.props.wifi?/*#__PURE__*/_jsx(FaWifi,{size:17}):/*#__PURE__*/_jsx(RiSignalWifiLine,{size:17})}),/*#__PURE__*/_jsx(TopBarItem,{ref:this.spotlightBtnRef,onClick:this.props.toggleSpotlight,children:/*#__PURE__*/_jsx(BiSearch,{size:17})}),/*#__PURE__*/_jsx(TopBarItem,{onClick:this.toggleControlCenter,ref:this.controlCenterBtnRef,children:/*#__PURE__*/_jsx(\"img\",{className:\"w-4 h-4 filter invert\",src:\"img/icons/menu/controlcenter.png\",alt:\"control center\"})}),this.state.showWifiMenu&&/*#__PURE__*/_jsx(WifiMenu,{toggleWifiMenu:this.toggleWifiMenu,btnRef:this.wifiBtnRef}),this.state.showControlCenter&&/*#__PURE__*/_jsx(ControlCenterMenu,{audio:this.audio,playing:this.state.playing,toggleAudio:this.toggleAudio,setVolume:this.setVolume,setBrightness:this.setBrightness,toggleControlCenter:this.toggleControlCenter,btnRef:this.controlCenterBtnRef}),/*#__PURE__*/_jsx(\"span\",{children:format(this.state.date,\"eee MMM d\")}),/*#__PURE__*/_jsx(\"span\",{children:format(this.state.date,\"h:mm aa\")})]})]});}}]);return TopBar;}(Component);var mapStateToProps=function mapStateToProps(state){return{volume:state.volume,brightness:state.brightness,wifi:state.wifi};};export default connect(mapStateToProps,{setVolume:setVolume,setBrightness:setBrightness,toggleFullScreen:toggleFullScreen})(TopBar);","map":{"version":3,"sources":["C:/Users/usa/Downloads/macos-portfolio-main/src/components/menus/TopBar.js"],"names":["React","Component","createRef","forwardRef","connect","format","AppleMenu","WifiMenu","ControlCenterMenu","isFullScreen","setVolume","setBrightness","toggleFullScreen","music","BsBatteryFull","BiSearch","FaWifi","RiSignalWifiLine","AiFillApple","TopBarItem","props","ref","hide","hideOnMobile","hover","forceHover","onClick","children","TopBar","resize","isFull","toggleAudio","target","audio","play","pause","setState","playing","value","volume","toggleControlCenter","showControlCenter","state","toggleAppleMenu","showAppleMenu","toggleWifiMenu","showWifiMenu","logout","setLogin","shut","e","shutMac","restart","restartMac","sleep","sleepMac","date","Date","clickedOutside","apple","control","intervalId","bind","appleBtnRef","controlCenterBtnRef","wifiBtnRef","spotlightBtnRef","setSpotlightBtnRef","setInterval","window","addEventListener","Audio","load","clearInterval","removeEventListener","title","wifi","toggleSpotlight","mapStateToProps","brightness"],"mappings":"qoBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,SAA3B,CAAsCC,UAAtC,KAAwD,OAAxD,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CAEA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,OAASC,YAAT,KAA6B,oBAA7B,CACA,OAASC,SAAT,CAAoBC,aAApB,CAAmCC,gBAAnC,KAA2D,oBAA3D,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CAEA;AACA,OAASC,aAAT,KAA8B,gBAA9B,CACA,OAASC,QAAT,KAAyB,gBAAzB,CACA,OAASC,MAAT,KAAuB,gBAAvB,CACA,OAASC,gBAAT,KAAiC,gBAAjC,CACA,OAASC,WAAT,KAA4B,gBAA5B,C,wFAEA,GAAMC,CAAAA,UAAU,cAAGhB,UAAU,CAAC,SAACiB,KAAD,CAAQC,GAAR,CAAgB,CAC5C,GAAMC,CAAAA,IAAI,CAAGF,KAAK,CAACG,YAAN,CAAqB,uBAArB,CAA+C,aAA5D,CACA,GAAMC,CAAAA,KAAK,CAAGJ,KAAK,CAACK,UAAN,CACV,wBADU,CAEV,4CAFJ,CAGA,mBACE,YACE,GAAG,CAAEJ,GADP,CAEE,SAAS,WAAKC,IAAL,+CAA+CE,KAA/C,QAFX,CAGE,OAAO,CAAEJ,KAAK,CAACM,OAHjB,UAKGN,KAAK,CAACO,QALT,EADF,CASD,CAd4B,CAA7B,C,GAgBMC,CAAAA,M,gGACJ,gBAAYR,KAAZ,CAAmB,wCACjB,uBAAMA,KAAN,EADiB,MAqDnBS,MArDmB,CAqDV,UAAM,CACb,GAAMC,CAAAA,MAAM,CAAGrB,YAAY,EAA3B,CACA,MAAKW,KAAL,CAAWR,gBAAX,CAA4BkB,MAA5B,EACD,CAxDkB,OA0DnBC,WA1DmB,CA0DL,SAACC,MAAD,CAAY,CACxBA,MAAM,CAAG,MAAKC,KAAL,CAAWC,IAAX,EAAH,CAAuB,MAAKD,KAAL,CAAWE,KAAX,EAA7B,CACA,MAAKC,QAAL,CAAc,CAAEC,OAAO,CAAEL,MAAX,CAAd,EACD,CA7DkB,OA+DnBtB,SA/DmB,CA+DP,SAAC4B,KAAD,CAAW,CACrB,MAAKlB,KAAL,CAAWV,SAAX,CAAqB4B,KAArB,EACA,MAAKL,KAAL,CAAWM,MAAX,CAAoBD,KAAK,CAAG,GAA5B,CACD,CAlEkB,OAoEnB3B,aApEmB,CAoEH,SAAC2B,KAAD,CAAW,CACzB,MAAKlB,KAAL,CAAWT,aAAX,CAAyB2B,KAAzB,EACD,CAtEkB,OAwEnBE,mBAxEmB,CAwEG,UAAM,CAC1B,MAAKJ,QAAL,CAAc,CACZK,iBAAiB,CAAE,CAAC,MAAKC,KAAL,CAAWD,iBADnB,CAAd,EAGD,CA5EkB,OA8EnBE,eA9EmB,CA8ED,UAAM,CACtB,MAAKP,QAAL,CAAc,CACZQ,aAAa,CAAE,CAAC,MAAKF,KAAL,CAAWE,aADf,CAAd,EAGD,CAlFkB,OAoFnBC,cApFmB,CAoFF,UAAM,CACrB,MAAKT,QAAL,CAAc,CACZU,YAAY,CAAE,CAAC,MAAKJ,KAAL,CAAWI,YADd,CAAd,EAGD,CAxFkB,OA0FnBC,MA1FmB,CA0FV,UAAM,CACb,MAAKhB,WAAL,CAAiB,KAAjB,EACA,MAAKX,KAAL,CAAW4B,QAAX,CAAoB,KAApB,EACD,CA7FkB,OA+FnBC,IA/FmB,CA+FZ,SAACC,CAAD,CAAO,CACZ,MAAKnB,WAAL,CAAiB,KAAjB,EACA,MAAKX,KAAL,CAAW+B,OAAX,CAAmBD,CAAnB,EACD,CAlGkB,OAoGnBE,OApGmB,CAoGT,SAACF,CAAD,CAAO,CACf,MAAKnB,WAAL,CAAiB,KAAjB,EACA,MAAKX,KAAL,CAAWiC,UAAX,CAAsBH,CAAtB,EACD,CAvGkB,OAyGnBI,KAzGmB,CAyGX,SAACJ,CAAD,CAAO,CACb,MAAKnB,WAAL,CAAiB,KAAjB,EACA,MAAKX,KAAL,CAAWmC,QAAX,CAAoBL,CAApB,EACD,CA5GkB,CAEjB,MAAKR,KAAL,CAAa,CACXc,IAAI,CAAE,GAAIC,CAAAA,IAAJ,EADK,CAEXhB,iBAAiB,CAAE,KAFR,CAGXK,YAAY,CAAE,KAHH,CAIXF,aAAa,CAAE,KAJJ,CAKXP,OAAO,CAAE,KALE,CAAb,CAOA,MAAKqB,cAAL,CAAsB,CACpBC,KAAK,CAAE,KADa,CAEpBC,OAAO,CAAE,KAFW,CAAtB,CAIA,MAAKC,UAAL,CAAkB,IAAlB,CACA,MAAK9B,WAAL,CAAmB,MAAKA,WAAL,CAAiB+B,IAAjB,+BAAnB,CACA,MAAKC,WAAL,cAAmB7D,SAAS,EAA5B,CACA,MAAK8D,mBAAL,cAA2B9D,SAAS,EAApC,CACA,MAAK+D,UAAL,cAAkB/D,SAAS,EAA3B,CACA,MAAKgE,eAAL,cAAuBhE,SAAS,EAAhC,CACA,MAAK2B,MAAL,CAAYiC,IAAZ,gCAnBiB,aAoBlB,C,oDAED,4BAAoB,iBAClB,KAAK1C,KAAL,CAAW+C,kBAAX,CAA8B,KAAKD,eAAnC,EAEA;AACA;AACA,KAAKL,UAAL,CAAkBO,WAAW,CAAC,UAAM,CAClC,MAAI,CAAChC,QAAL,CAAc,CACZoB,IAAI,CAAE,GAAIC,CAAAA,IAAJ,EADM,CAAd,EAGD,CAJ4B,CAI1B,GAAK,IAJqB,CAA7B,CAMA;AACAY,MAAM,CAACC,gBAAP,CAAwB,QAAxB,CAAkC,KAAKzC,MAAvC,EAEA;AACA,KAAKI,KAAL,CAAa,GAAIsC,CAAAA,KAAJ,CAAU1D,KAAK,CAACoB,KAAhB,CAAb,CACA,KAAKA,KAAL,CAAWuC,IAAX,GAEA;AACA,KAAKvC,KAAL,CAAWM,MAAX,CAAoB,KAAKnB,KAAL,CAAWmB,MAAX,CAAoB,GAAxC,CAEA;AACA,KAAKN,KAAL,CAAWqC,gBAAX,CAA4B,OAA5B,CAAqC,iBAAM,CAAA,MAAI,CAACrC,KAAL,CAAWC,IAAX,EAAN,EAArC,EACD,C,oCAED,+BAAuB,iBACrBuC,aAAa,CAAC,KAAKZ,UAAN,CAAb,CACAQ,MAAM,CAACK,mBAAP,CAA2B,QAA3B,CAAqC,KAAK7C,MAA1C,EACA,KAAKI,KAAL,CAAWyC,mBAAX,CAA+B,OAA/B,CAAwC,iBAAM,CAAA,MAAI,CAACzC,KAAL,CAAWC,IAAX,EAAN,EAAxC,EACD,C,sBA2DD,iBAAS,iBACP,mBACE,aAAK,SAAS,CAAC,8JAAf,wBACE,aAAK,SAAS,CAAC,sCAAf,wBACE,KAAC,UAAD,EACE,UAAU,CAAE,KAAKQ,KAAL,CAAWE,aADzB,CAEE,OAAO,CAAE,yBAAO,CAAA,MAAI,CAACA,aAAL,CAAqB,EAArB,CAA0B,MAAI,CAACD,eAAL,EAAjC,EAFX,CAGE,GAAG,CAAE,KAAKoB,WAHZ,uBAKE,KAAC,WAAD,EAAa,IAAI,CAAE,EAAnB,EALF,EADF,cAQE,aAAM,SAAS,CAAC,8BAAhB,UACG,KAAK3C,KAAL,CAAWuD,KADd,EARF,GADF,CAeG,KAAKjC,KAAL,CAAWE,aAAX,eACC,KAAC,SAAD,EACE,MAAM,CAAE,KAAKG,MADf,CAEE,IAAI,CAAE,KAAKE,IAFb,CAGE,OAAO,CAAE,KAAKG,OAHhB,CAIE,KAAK,CAAE,KAAKE,KAJd,CAKE,eAAe,CAAE,KAAKX,eALxB,CAME,MAAM,CAAE,KAAKoB,WANf,EAhBJ,cA0BE,aAAK,SAAS,CAAC,kDAAf,wBACE,MAAC,UAAD,EAAY,YAAY,CAAE,IAA1B,wBACE,aAAM,SAAS,CAAC,qBAAhB,kBADF,cAEE,KAAC,aAAD,EAAe,IAAI,CAAE,EAArB,EAFF,GADF,cAKE,KAAC,UAAD,EACE,YAAY,CAAE,IADhB,CAEE,OAAO,CAAE,KAAKlB,cAFhB,CAGE,GAAG,CAAE,KAAKoB,UAHZ,UAKG,KAAK7C,KAAL,CAAWwD,IAAX,cACC,KAAC,MAAD,EAAQ,IAAI,CAAE,EAAd,EADD,cAGC,KAAC,gBAAD,EAAkB,IAAI,CAAE,EAAxB,EARJ,EALF,cAgBE,KAAC,UAAD,EACE,GAAG,CAAE,KAAKV,eADZ,CAEE,OAAO,CAAE,KAAK9C,KAAL,CAAWyD,eAFtB,uBAIE,KAAC,QAAD,EAAU,IAAI,CAAE,EAAhB,EAJF,EAhBF,cAsBE,KAAC,UAAD,EACE,OAAO,CAAE,KAAKrC,mBADhB,CAEE,GAAG,CAAE,KAAKwB,mBAFZ,uBAIE,YACE,SAAS,CAAC,uBADZ,CAEE,GAAG,CAAC,kCAFN,CAGE,GAAG,CAAC,gBAHN,EAJF,EAtBF,CAkCG,KAAKtB,KAAL,CAAWI,YAAX,eACC,KAAC,QAAD,EACE,cAAc,CAAE,KAAKD,cADvB,CAEE,MAAM,CAAE,KAAKoB,UAFf,EAnCJ,CA0CG,KAAKvB,KAAL,CAAWD,iBAAX,eACC,KAAC,iBAAD,EACE,KAAK,CAAE,KAAKR,KADd,CAEE,OAAO,CAAE,KAAKS,KAAL,CAAWL,OAFtB,CAGE,WAAW,CAAE,KAAKN,WAHpB,CAIE,SAAS,CAAE,KAAKrB,SAJlB,CAKE,aAAa,CAAE,KAAKC,aALtB,CAME,mBAAmB,CAAE,KAAK6B,mBAN5B,CAOE,MAAM,CAAE,KAAKwB,mBAPf,EA3CJ,cAsDE,sBAAO3D,MAAM,CAAC,KAAKqC,KAAL,CAAWc,IAAZ,CAAkB,WAAlB,CAAb,EAtDF,cAuDE,sBAAOnD,MAAM,CAAC,KAAKqC,KAAL,CAAWc,IAAZ,CAAkB,SAAlB,CAAb,EAvDF,GA1BF,GADF,CAsFD,C,oBAtMkBvD,S,EAyMrB,GAAM6E,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACpC,KAAD,CAAW,CACjC,MAAO,CACLH,MAAM,CAAEG,KAAK,CAACH,MADT,CAELwC,UAAU,CAAErC,KAAK,CAACqC,UAFb,CAGLH,IAAI,CAAElC,KAAK,CAACkC,IAHP,CAAP,CAKD,CAND,CAQA,cAAexE,CAAAA,OAAO,CAAC0E,eAAD,CAAkB,CACtCpE,SAAS,CAATA,SADsC,CAEtCC,aAAa,CAAbA,aAFsC,CAGtCC,gBAAgB,CAAhBA,gBAHsC,CAAlB,CAAP,CAIZgB,MAJY,CAAf","sourcesContent":["import React, { Component, createRef, forwardRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport format from \"date-fns/format\";\n\nimport AppleMenu from \"./AppleMenu\";\nimport WifiMenu from \"./WifiMenu\";\nimport ControlCenterMenu from \"./ControlCenterMenu\";\nimport { isFullScreen } from \"../../utils/screen\";\nimport { setVolume, setBrightness, toggleFullScreen } from \"../../redux/action\";\nimport music from \"../../configs/music\";\n\n// ------- import icons -------\nimport { BsBatteryFull } from \"react-icons/bs\";\nimport { BiSearch } from \"react-icons/bi\";\nimport { FaWifi } from \"react-icons/fa\";\nimport { RiSignalWifiLine } from \"react-icons/ri\";\nimport { AiFillApple } from \"react-icons/ai\";\n\nconst TopBarItem = forwardRef((props, ref) => {\n  const hide = props.hideOnMobile ? \"hidden sm:inline-flex\" : \"inline-flex\";\n  const hover = props.forceHover\n    ? \"bg-white bg-opacity-30\"\n    : \"hover:bg-white hover:bg-opacity-30 rounded\";\n  return (\n    <div\n      ref={ref}\n      className={`${hide} cursor-default flex-row space-x-1 ${hover} p-1`}\n      onClick={props.onClick}\n    >\n      {props.children}\n    </div>\n  );\n});\n\nclass TopBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: new Date(),\n      showControlCenter: false,\n      showWifiMenu: false,\n      showAppleMenu: false,\n      playing: false\n    };\n    this.clickedOutside = {\n      apple: false,\n      control: false\n    };\n    this.intervalId = null;\n    this.toggleAudio = this.toggleAudio.bind(this);\n    this.appleBtnRef = createRef();\n    this.controlCenterBtnRef = createRef();\n    this.wifiBtnRef = createRef();\n    this.spotlightBtnRef = createRef();\n    this.resize.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.setSpotlightBtnRef(this.spotlightBtnRef);\n\n    // current date and time\n    // store intervalId in the state, so we can clear interval later\n    this.intervalId = setInterval(() => {\n      this.setState({\n        date: new Date()\n      });\n    }, 60 * 1000);\n\n    // listen to screen size change\n    window.addEventListener(\"resize\", this.resize);\n\n    // load music\n    this.audio = new Audio(music.audio);\n    this.audio.load();\n\n    // set volume\n    this.audio.volume = this.props.volume / 100;\n\n    // auto replay\n    this.audio.addEventListener(\"ended\", () => this.audio.play());\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId);\n    window.removeEventListener(\"resize\", this.resize);\n    this.audio.removeEventListener(\"ended\", () => this.audio.play());\n  }\n\n  resize = () => {\n    const isFull = isFullScreen();\n    this.props.toggleFullScreen(isFull);\n  };\n\n  toggleAudio = (target) => {\n    target ? this.audio.play() : this.audio.pause();\n    this.setState({ playing: target });\n  };\n\n  setVolume = (value) => {\n    this.props.setVolume(value);\n    this.audio.volume = value / 100;\n  };\n\n  setBrightness = (value) => {\n    this.props.setBrightness(value);\n  };\n\n  toggleControlCenter = () => {\n    this.setState({\n      showControlCenter: !this.state.showControlCenter\n    });\n  };\n\n  toggleAppleMenu = () => {\n    this.setState({\n      showAppleMenu: !this.state.showAppleMenu\n    });\n  };\n\n  toggleWifiMenu = () => {\n    this.setState({\n      showWifiMenu: !this.state.showWifiMenu\n    });\n  };\n\n  logout = () => {\n    this.toggleAudio(false);\n    this.props.setLogin(false);\n  };\n\n  shut = (e) => {\n    this.toggleAudio(false);\n    this.props.shutMac(e);\n  };\n\n  restart = (e) => {\n    this.toggleAudio(false);\n    this.props.restartMac(e);\n  };\n\n  sleep = (e) => {\n    this.toggleAudio(false);\n    this.props.sleepMac(e);\n  };\n\n  render() {\n    return (\n      <div className=\"nightwind-prevent w-full h-6 px-4 fixed top-0 flex flex-row justify-between items-center text-sm text-white bg-gray-500 bg-opacity-10 blur shadow transition\">\n        <div className=\"flex flex-row items-center space-x-4\">\n          <TopBarItem\n            forceHover={this.state.showAppleMenu}\n            onClick={() => (this.showAppleMenu ? {} : this.toggleAppleMenu())}\n            ref={this.appleBtnRef}\n          >\n            <AiFillApple size={18} />\n          </TopBarItem>\n          <span className=\"cursor-default font-semibold\">\n            {this.props.title}\n          </span>\n        </div>\n\n        {/* Open this when clicking on Apple logo */}\n        {this.state.showAppleMenu && (\n          <AppleMenu\n            logout={this.logout}\n            shut={this.shut}\n            restart={this.restart}\n            sleep={this.sleep}\n            toggleAppleMenu={this.toggleAppleMenu}\n            btnRef={this.appleBtnRef}\n          />\n        )}\n\n        <div className=\"flex flex-row justify-end items-center space-x-2\">\n          <TopBarItem hideOnMobile={true}>\n            <span className=\"text-xs mt-0.5 mr-1\">100%</span>\n            <BsBatteryFull size={20} />\n          </TopBarItem>\n          <TopBarItem\n            hideOnMobile={true}\n            onClick={this.toggleWifiMenu}\n            ref={this.wifiBtnRef}\n          >\n            {this.props.wifi ? (\n              <FaWifi size={17} />\n            ) : (\n              <RiSignalWifiLine size={17} />\n            )}\n          </TopBarItem>\n          <TopBarItem\n            ref={this.spotlightBtnRef}\n            onClick={this.props.toggleSpotlight}\n          >\n            <BiSearch size={17} />\n          </TopBarItem>\n          <TopBarItem\n            onClick={this.toggleControlCenter}\n            ref={this.controlCenterBtnRef}\n          >\n            <img\n              className=\"w-4 h-4 filter invert\"\n              src=\"img/icons/menu/controlcenter.png\"\n              alt=\"control center\"\n            />\n          </TopBarItem>\n\n          {/* Open this when clicking on Wifi button */}\n          {this.state.showWifiMenu && (\n            <WifiMenu\n              toggleWifiMenu={this.toggleWifiMenu}\n              btnRef={this.wifiBtnRef}\n            />\n          )}\n\n          {/* Open this when clicking on Control Center button */}\n          {this.state.showControlCenter && (\n            <ControlCenterMenu\n              audio={this.audio}\n              playing={this.state.playing}\n              toggleAudio={this.toggleAudio}\n              setVolume={this.setVolume}\n              setBrightness={this.setBrightness}\n              toggleControlCenter={this.toggleControlCenter}\n              btnRef={this.controlCenterBtnRef}\n            />\n          )}\n\n          <span>{format(this.state.date, \"eee MMM d\")}</span>\n          <span>{format(this.state.date, \"h:mm aa\")}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    volume: state.volume,\n    brightness: state.brightness,\n    wifi: state.wifi\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setVolume,\n  setBrightness,\n  toggleFullScreen\n})(TopBar);\n"]},"metadata":{},"sourceType":"module"}